/*! For license information please see ../LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{191:function(t,e,o){"use strict";o.r(e);o(184),o(64),o(122);var n=o(44),r=o.n(n),c={data:function(){return{vdata:{},publicVapidKey:"BA2UWcTHEy2Ri7DSggjsN70hviNGp-IvDorcACV2IjCDWOBXiDog5wl1eZ7MvW7Yx5kX7CgsC7MyrCoUo5oQPqc"}},methods:{kirim:function(){r.a.post("http://localhost:4000/api",this.vdata).then((function(t){console.log(t)}))},permission:function(){var t=this;"Notification"in window?Notification.requestPermission((function(e){"granted"!==e?console.log("notifikasi tidak di perbolehkan"):(t.confPushSub(),console.log("notifikasi aktif"))})):alert("notifikasi tidak didukung ")},confPushSub:function(){var t=this;"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){var o=this;console.log(e),e.pushManager.getSubscription().then((function(sub){null===sub?e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t.urlB64ToUint8Array(o.publicVapidKey)}).then((function(t){return console.log("Subscribe OK:",t),fetch("http://localhost:4000/subscribe",{method:"POST",body:JSON.stringify(t.toJSON()),headers:{"Content-Type":"application/json",Accept:"application/json"}})})).then((function(){t.newNotif("Berhasil Subscribe"),console.log("Server Stored Subscription.")})).catch((function(t){console.log("Subscribe Error:",t)})):t.newNotif("Subscribtion sudah ada")}))}))},newNotif:function(t){var e={body:t,icon:"../icons/app-icon-96x96.png",image:"../icon.png",dir:"ltr",lang:"en-US",vibrate:[100,50,200],badge:"../icon.png",actions:[{action:"confirm",title:"Yes",icon:"../icon.png"},{action:"cancel",title:"No",icon:"../icon.png"}]};"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.showNotification("Subscribe",e)}))},urlB64ToUint8Array:function(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),o=window.atob(e),n=new Uint8Array(o.length),i=0;i<o.length;++i)n[i]=o.charCodeAt(i);return n}}},l=o(31),component=Object(l.a)(c,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("div",{staticClass:"container flex flex-wrap mx-auto px-4"},[o("div",{staticClass:"w-full sm:w-1/2 rounded-lg p-2",staticStyle:{"box-shadow":"1px 2px 4px gray"}},[o("h2",[t._v("Daftar Mendapatkan Notifikasi")]),t._v(" "),o("br"),t._v(" "),o("button",{staticClass:"aktif-notif hover:bg-white hover:text-black bg-blue p-2 border-solid rounded-lg",attrs:{type:"button"},on:{click:t.permission}},[t._v("Subscribe")]),t._v(" "),o("br")]),t._v(" "),o("div",{staticClass:"w-full sm:w-1/2 rounded-lg p-2",staticStyle:{"box-shadow":"1px 2px 4px gray"}},[o("h2",[t._v("Kirim Notifikasi")]),t._v(" "),o("br"),t._v(" "),o("form",{attrs:{action:"#"},on:{submit:function(e){return e.preventDefault(),t.kirim(e)}}},[o("div",{staticClass:"mb-4"},[o("label",{staticClass:"block text-grey-darker text-sm font-bold mb-2",attrs:{for:"title"}},[t._v("title")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.title,expression:"vdata.title"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"title",type:"text",placeholder:"title"},domProps:{value:t.vdata.title},on:{input:function(e){e.target.composing||t.$set(t.vdata,"title",e.target.value)}}})]),t._v(" "),o("div",{staticClass:"mb-4"},[o("label",{staticClass:"block text-grey-darker text-sm font-bold mb-2",attrs:{for:"content"}},[t._v("content")]),t._v(" "),o("input",{directives:[{name:"model",rawName:"v-model",value:t.vdata.content,expression:"vdata.content"}],staticClass:"shadow appearance-none border rounded w-full py-2 px-3 text-grey-darker leading-tight focus:outline-none focus:shadow-outline",attrs:{id:"content",type:"text",placeholder:"content"},domProps:{value:t.vdata.content},on:{input:function(e){e.target.composing||t.$set(t.vdata,"content",e.target.value)}}})]),t._v(" "),o("button",{staticClass:"hover:bg-white hover:text-black bg-green-light p-2 border-solid rounded-lg",attrs:{type:"submit"}},[t._v("Notifikasi")])])])])])}),[],!1,null,null,null);e.default=component.exports}}]);